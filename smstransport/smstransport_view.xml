<?xml version="1.0" ?>
<openerp>
    <data>
		
	<!--Transport Locations-->
	<record model="ir.ui.view" id="view_sms_transport_location_form">
		<field name="name">sms.transport.location.form</field>
		<field name="model">sms.transport.location</field>
		<field name="arch" type="xml">
			<form string="Transport Location" version="7.0">
				<header>
					<field name="state" widget="statusbar"/>
				</header>
				<sheet>
					<separator string="Location"/>
					<group name="location_form_main">
						<field name="name"/>
					</group>
				</sheet>	 	
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="view_sms_transport_location_tree">
		<field name="name">sms.transport.location.tree</field>
		<field name="model">sms.transport.location</field>
		<field name="arch" type="xml">
			<tree string="Transport Location">
				<field name="name"/>
				<field name="state"/>
			</tree>
		</field>
	</record>

	<record id="view_sms_transport_location_search" model="ir.ui.view">
		<field name="name">sms.transport.locationsearch</field>
		<field name="model">sms.transport.location</field>
		<field name="arch" type="xml">
			<search string="Transport Location">
				<field name="name" string="Location"/>
				<field name="state" string="State"/>
			</search>
		</field>
	</record>

	<record model="ir.actions.act_window" id="action_transport_location">
		<field name="name">Transport Location</field>
		<field name="res_model">sms.transport.location</field>
		<field name="type">ir.actions.act_window</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="search_view_id" ref="view_sms_transport_location_search"/>
	</record>

	<!--Transport Route-->
	<record model="ir.ui.view" id="view_sms_transport_route_form">
		<field name="name">sms.transport.route.form</field>
		<field name="model">sms.transport.route</field>
		<field name="arch" type="xml">
			<form string="Transport Route" version="7.0">
				<header>
					<field name="state" widget="statusbar"/>
				</header>
				<sheet>
					<group name="transport_route_main" col="4" colpsan="2">
						<field name="name"/>
						<field name="transport_location"/>
					</group>
				</sheet>	 	
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="view_sms_transport_route_tree">
		<field name="name">sms.transport.route.tree</field>
		<field name="model">sms.transport.route</field>
		<field name="arch" type="xml">
			<tree string="Transport Route">
				<field name="name"/>
				<field name="transport_location"/>
				<field name="state"/>
			</tree>
		</field>
	</record>

	<record id="view_sms_transport_route_search" model="ir.ui.view">
		<field name="name">sms.transport.routesearch</field>
		<field name="model">sms.transport.route</field>
		<field name="arch" type="xml">
			<search string="Transport Route">
				<field name="name" string="Location"/>
				<field name="transport_location" string="Transport Location"/>
			</search>
		</field>
	</record>

	<record model="ir.actions.act_window" id="action_transport_route">
		<field name="name">Transport Route</field>
		<field name="res_model">sms.transport.route</field>
		<field name="type">ir.actions.act_window</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="search_view_id" ref="view_sms_transport_route_search"/>
	</record>

	<!-- Transport Shifts -->
	<record model="ir.ui.view" id="view_sms_transport_shift_form">
		<field name="name">sms.transport.shift.form</field>
		<field name="model">sms.transport.shift</field>
		<field name="arch" type="xml">
			<form string="Transport Shift" version="7.0">
				<header>
				</header>
				<sheet>
					<separator string="Location"/>
					<group name="shift_form_main">
						<field name="name"/>
						<field name="desc"/>
					</group>
				</sheet>	 	
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="view_sms_transport_shift_tree">
		<field name="name">sms.transport.shift.tree</field>
		<field name="model">sms.transport.shift</field>
		<field name="arch" type="xml">
			<tree string="Transport Shift">
				<field name="name"/>
				<field name="desc"/>
			</tree>
		</field>
	</record>

	<record id="view_sms_transport_shift_search" model="ir.ui.view">
		<field name="name">sms.transport.shiftsearch</field>
		<field name="model">sms.transport.shift</field>
		<field name="arch" type="xml">
			<search string="Transport Shift">
				<field name="name" string="Shift"/>
				<field name="desc" string="Description"/>
			</search>
		</field>
	</record>

	<record model="ir.actions.act_window" id="action_transport_shift">
		<field name="name">Transport Shift</field>
		<field name="res_model">sms.transport.shift</field>
		<field name="type">ir.actions.act_window</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="search_view_id" ref="view_sms_transport_shift_search"/>
	</record>

	<!--Transport Vehciles-->
	<record model="ir.ui.view" id="view_sms_transport_vehcile_form">
		<field name="name">sms.transport.vehcile.form</field>
		<field name="model">sms.transport.vehcile</field>
		<field name="arch" type="xml">
			<form string="Transport Vehcile" version="7.0">
				<header>
				</header>
				<sheet>
					<label for="name" class="oe_edit_only" string="Name"/><field name="name" nolabel="1"/>
					<group name="transport_vehcile_inner_1" col="4" colspan="2"> 
						<field name="vehcile_type"/>
						<field name="max_accomodation"/>
						<field name="current_accomodation"/>
						<field name="income_amount"/>
						<field name="expanse_amount"/>
						<field name="vehcile_no"/>
					</group>
					<notebook>
						<page string="Transport Route">
							<field name="transport_route" nolabel="1" colspan="4"/>
						</page>
						<page string="Drivers">
							<field name="drivers" nolabel="1" colspan="4"/>
						</page>
						<page string="Registered Students">
							<field name="registered_students" nolabel="1" colspan="4" readonly="1"/>
						</page>
						<page string="Registered Staff">
							<field name="registered_staff" nolabel="1" colspan="4" readonly="1"/>	
						</page>
						<page string="Vechile Shifts">
							<field name="transport_shifts" nolabel="1" colspan="4"/>
						</page>
					</notebook>
				</sheet>	 	
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="view_sms_transport_vehcile_tree">
		<field name="name">sms.transport.vehcile.tree</field>
		<field name="model">sms.transport.vehcile</field>
		<field name="arch" type="xml">
			<tree string="Transport Vehcile">
					<field name="name"/>
					<field name="vehcile_type"/>
					<field name="income_amount"/>
					<field name="expanse_amount"/>
			</tree>
		</field>
	</record>

	<record id="view_sms_transport_vehcile_search" model="ir.ui.view">
		<field name="name">sms.transport.vehcilesearch</field>
		<field name="model">sms.transport.vehcile</field>
		<field name="arch" type="xml">
			<search string="Transport Vechile">
					<field name="name"/>
					<field name="vehcile_type" string="Vechile Type"/>
					<field name="income_amount" string="Income Amount"/>
					<field name="expanse_amount" string="Expanse Amount"/>
			</search>
		</field>
	</record>

	<record model="ir.actions.act_window" id="action_transport_vehcile">
		<field name="name">Transport Vehcile</field>
		<field name="res_model">sms.transport.vehcile</field>
		<field name="type">ir.actions.act_window</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="search_view_id" ref="view_sms_transport_vehcile_search"/>
	</record>

	<!--Transport Fee Structure-->
	<record model="ir.ui.view" id="view_sms_transport_fee_structure_form">
		<field name="name">sms.transport.fee.structure.form</field>
		<field name="model">sms.transport.fee.structure</field>
		<field name="arch" type="xml">
			<form string="Transport Fee Structure" version="7.0">
				<header>
				</header>
				<sheet>
					<label for="name" class="oe_edit_only" string="Name"/><field name="name" nolabel="1"/>
					<group name="transport_fee_structure_main" col="4" colspan="2">
						<field name="transport_route"/>
						<field name="vehcile_id"/>
						<field name="fiscal_year"/>
						<field name="start_date"/>
						<field name="end_date"/>
						<field name="monhtly_fee"/>
						<field name="registration_fee"/>
					</group>
				</sheet>	 	
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="view_sms_transport_fee_structure_tree">
		<field name="name">sms.transport.fee.structure.tree</field>
		<field name="model">sms.transport.fee.structure</field>
		<field name="arch" type="xml">
			<tree string="Transport Fee Structure">
				<field name="name"/>
				<field name="transport_route"/>
				<field name="start_date"/>
				<field name="end_date"/>
				<field name="fiscal_year"/>
			</tree>
		</field>
	</record>

	<record id="view_sms_transport_fee_structure_search" model="ir.ui.view">
		<field name="name">sms.transport.fee.structuresearch</field>
		<field name="model">sms.transport.fee.structure</field>
		<field name="arch" type="xml">
			<search string="Transport Fee Structure">
				<field name="name"/>
				<field name="transport_route"/>
				<field name="fiscal_year"/>
			</search>
		</field>
	</record>

	<record model="ir.actions.act_window" id="action_transport_fee_structure">
		<field name="name">Transport Fee Structure</field>
		<field name="res_model">sms.transport.fee.structure</field>
		<field name="type">ir.actions.act_window</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="search_view_id" ref="view_sms_transport_fee_structure_search"/>
	</record>

	<!--Transport Fee Registration Time-->
	<record model="ir.ui.view" id="view_sms_transport_fee_registration_tree">
		<field name="name">sms.transport.fee.registration.tree</field>
		<field name="model">sms.transport.fee.registration</field>
		<field name="arch" type="xml">
			<tree string="Transport Fee Structure">
				<field name="name"/>
				<field name="fee_month"/>
				<field name="fee_amount"/>
				<field name="parent_id"/>
				<field name="hidden_parent_feestr"/>
			</tree>
		</field>
	</record>

	<!--Transport Registrations-->
	<record model="ir.ui.view" id="view_sms_transport_registration_form">
		<field name="name">sms.transport.registrations.form</field>
		<field name="model">sms.transport.registrations</field>
		<field name="arch" type="xml">
			<form string="Transport Registrations" version="7.0">
				<header>
					<field name="state" widget="statusbar"/>
					<button name="register_person" string="Register" states="Draft" type="object" icon="terp-gtk-jump-to-ltr"/>
					<button name="%(action_transport_registered_persons)d" string="Registered Students" type="action" icon="gtk-print"/>
				</header>
				<sheet>
					<label for="name" class="oe_edit_only" string="Name"/><field name="name" nolabel="1"/>
					<group name="transport_registration_main">
						<group col="4" colspan="2">
							<field name="registration_type"/>
							<field name="student_reg_no" on_change="onchange_load_student(student_reg_no)"/>
						</group>
						<group attrs="{'invisible':[('registration_type','=','Student')]}">
							<field name="employee_id"/>
						</group>
						<group attrs="{'invisible':[('registration_type','=','Employee')]}">
							<field name="student_id" domain="[('state','=','Admitted')]"/>
						</group>
						<newline/>
						<group col="4" colspan="2">
							<field name="shift"/>
							<field name="current_vehcile"/>
						</group>
						<newline/>
						<group col="4" colspan="2">
							<field name="reg_start_date"/>
							<field name="reg_end_date"/>
						</group>
					</group>
					<!--
					<notebook>
						<page string="Registration Histories">
							<field name="registered_lines" nolabel="1"/>
						</page>
					</notebook>
					-->
					<notebook>
						<field name="transportfee_ids" nolabel="1"/>
						<page string = "Fee Details">
						<div class="oe_title"><label for="total_fee_applicable"/>
							<h2><field name="total_fee_applicable"/></h2>
						</div>
						<field name="transportfee_ids" context = " {'parent_id':active_id}" nolabel="1"/>
				    	</page>
				   </notebook>
				</sheet>	 	
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="view_sms_transport_registration_tree">
		<field name="name">sms.transport.registrations.tree</field>
		<field name="model">sms.transport.registrations</field>
		<field name="arch" type="xml">
			<tree string="Transport Registration">
				<field name="registration_type"/>
				<field name="reg_start_date"/>
				<field name="reg_end_date"/>
				<field name="employee_id"/>
				<field name="student_id"/>
				<field name="current_vehcile"/>
			</tree>
		</field>
	</record>

	<record id="view_sms_transport_registration_search" model="ir.ui.view">
		<field name="name">sms.transport.registrationssearch</field>
		<field name="model">sms.transport.registrations</field>
		<field name="arch" type="xml">
			<search string="Transport Registration">
				<field name="registration_type"/>
				<field name="employee_id"/>
				<field name="student_id"/>
				<field name="current_vehcile"/>
			</search>
		</field>
	</record>

	<record model="ir.actions.act_window" id="action_transport_registration">
		<field name="name">Transport Registration</field>
		<field name="res_model">sms.transport.registrations</field>
		<field name="type">ir.actions.act_window</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="search_view_id" ref="view_sms_transport_registration_search"/>
	</record>
	
	<!-- Sms Student Inherit -->
	<record model="ir.ui.view" id="inherit_view_sms_student_transport_form">
	<field name="name">sms.student.inherit.trnasport</field>
	<field name="model">sms.student</field>
	<field name="inherit_id" ref="smsfee.inherit_view_sms_student_form"/>
	<field name="type">form</field>
	<field name="arch" type="xml">
		<data>
			<notebook>
				<page string="Transport Details">
					<group>					
						<field name="vehcile_reg_students_id"/>
						<field name="transport_availed"/>
						<field name="transport_fee_history"/>
						<field name="transoprt_amount"/>
						<field name="transport_reg_id"/>
					</group>
				</page>
			</notebook>
			<xpath expr="//field[@name='studen_fee_ids']" position="after">
				<separator string="Transport Payment Details" colspan="4"/> 
				<field name="transport_fee_payment_ids" nolabel="1" attrs=""/>
	        </xpath>
		</data>
	</field>
	</record>

	<!-- Transport Fee Payments -->
	<record model="ir.ui.view" id="view_sms_transport_fee_payments_form">
		<field name="name">sms.transport.fee.payments.form</field>
		<field name="model">sms.transport.fee.payments</field>
		<field name="arch" type="xml">
			<form string="Transport Payments" version="7.0">
				<header>
					<field name="state" widget="statusbar"/>
				</header>
				<sheet>
					<label for="name" class="oe_edit_only" string="Name"/><field name="name" nolabel="1"/>
					<group name="transport_payments_main" col="4" colspan="2">
						<field name="employee_id"/>
						<field name="student_id"/>
						<field name="registeration_id"/>
						<field name="fee_month"/>
						<field name="due_month"/>
						<field name="fee_amount"/>
						<field name="late_fee"/>
						<field name="total_fees"/>
						<field name="registration_fee"/>
					</group>
				</sheet>	 	
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="view_sms_transport_fee_payments_tree">
		<field name="name">sms.transport.fee.payments.tree</field>
		<field name="model">sms.transport.fee.payments</field>
		<field name="arch" type="xml">
			<tree string="Transport Fee Payments">
				<field name="employee_id"/>
				<field name="student_id"/>
				<field name="registeration_id"/>
				<field name="fee_month"/>
				<field name="fee_amount"/>
				<field name="total_fees"/>
			</tree>
		</field>
	</record>

	<record id="view_sms_transport_fee_payments_search" model="ir.ui.view">
		<field name="name">sms.transport.fee.paymentssearch</field>
		<field name="model">sms.transport.fee.payments</field>
		<field name="arch" type="xml">
			<search string="Transport Fee Payments">
				<field name="employee_id"/>
				<field name="student_id"/>
				<field name="registeration_id"/>
				<field name="fee_month"/>
				<field name="fee_amount"/>
				<field name="total_fees"/>
			</search>
		</field>
	</record>

	<record model="ir.actions.act_window" id="action_transport_fee_payments">
		<field name="name">Transport Fee Payments</field>
		<field name="res_model">sms.transport.fee.payments</field>
		<field name="type">ir.actions.act_window</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="search_view_id" ref="view_sms_transport_fee_payments_search"/>
	</record>

	<!--Transport Challan Book-->
	<record model="ir.ui.view" id="view_sms_transport_fee_challan_form">
		<field name="name">sms.transportfee.challan.book.form</field>
		<field name="model">sms.transportfee.challan.book</field>
		<field name="arch" type="xml">
			<form string="Transport Fee Challan" version="7.0">
				<header>
					<field name="state" widget="statusbar"/>
				</header>
				<sheet>
					<label for="name" class="oe_edit_only" string="Name"/><field name="name" nolabel="1"/>
					<group name="transport_chalan_main" col="4" colspan="2">
						<field name="student_id"/>
						<field name="student_class_id"/>
						<field name="father_name"/>
						<field name="payment_method"/>
						<field name="total_payables"/>
						<field name="total_paid"/>
						<field name="receipt_date"/>
					</group>
					<notebook>
						<page string="Challan Entries">
							<field name="transport_challan_lines_ids" nolabel="1"/>
						</page>
					</notebook>
				</sheet>	 	
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="view_sms_transport_fee_challan_tree">
		<field name="name">sms.transportfee.challan.book.tree</field>
		<field name="model">sms.transportfee.challan.book</field>
		<field name="arch" type="xml">
			<tree string="Transport Fee Challan">
				<field name="student_id"/>
				<field name="father_name"/>
				<field name="payment_method"/>
				<field name="total_payables"/>
				<field name="total_paid"/>
			</tree>
		</field>
	</record>

	<record id="sms_transport_fee_challan_search" model="ir.ui.view">
		<field name="name">sms.transportfee.challan.booksearch</field>
		<field name="model">sms.transportfee.challan.book</field>
		<field name="arch" type="xml">
			<search string="Transport Fee Challan">
				<field name="student_id"/>
				<field name="total_payables"/>
				<field name="total_paid"/>
			</search>
		</field>
	</record>

	<record model="ir.actions.act_window" id="action_transport_fee_challan">
		<field name="name">Transport Fee Challan</field>
		<field name="res_model">sms.transportfee.challan.book</field>
		<field name="type">ir.actions.act_window</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="search_view_id" ref="sms_transport_fee_challan_search"/>
	</record>

	<!--Session months inherited-->
	<record model = "ir.ui.view" id="sms_session_months_ih_ihrt_trnasport">
		<field name = "name">sms.session.months.tree.transprt</field>	
		<field name = "model">sms.session.months</field>
		<field name = "inherit_id" ref = "smsfee.sms_session+months_ih_ihrt"/>
		<field name = "arch" type = "xml">
			<xpath expr = "//button[@name ='update_monthly_feeregister']" position = "replace">
				<button name="update_monthly_feeregister" string="Update Fee" type="object"
                                    groups="" 
									icon="terp-gtk-jump-to-ltr" 
									attrs="{'readonly':[('state','=','Updated')]}"
									confirm = "Are you sure update register with selected month?"
                                    />
			</xpath>
		</field>
	</record>
	
	<!-- Acadmeic Calendar Inherited View-->
	<record model="ir.ui.view" id="inherit_view_sms_transport_acad_calendar">
		<field name="name">sms.academiccalendar.inherit</field>
		<field name="model">sms.academiccalendar</field>
		<field name="inherit_id" ref="sms.view_session_classes_form"/>
		<field name="type">form</field>
		<field name="arch" type="xml">
		<field name="helptxt" position="before">
			</field>
				<header>
					<button name="%(action_fee_receipts_2)d" string="Transport Fee Receipts"  states="Draft,Active" type="action" icon="gtk-print"/>
				</header>
			</field>
	</record>

	<!-- Inherited res company for challan print settings -->
	<record model="ir.ui.view" id="view_cms_company_form112">
		<field name="name">res.company.form.inheritt.transport</field>
		<field name="model">res.company</field>
		<field name="inherit_id" ref="base.view_company_form" />
		<field name="type">form</field>
		<field name="arch" type="xml">
			<notebook>
			<page string="Challan Print" position="after">
				<group col="4" colspan="2">
					<field name="one_on_one"/>
					<field name="three_on_one"/>
				</group>
			</page>
			</notebook>
		</field>
	</record>

	</data>
</openerp>
